<%- include('../../partials/head.ejs')%>

    <%- include('../../partials/nav.ejs')%>
        <br>
        <div class="container">

            <div class="card">

                <div class="card-header">
                    <h1>Cadastro de Grade</h1>
                    <p>Cadastro de grade é importante para organizar os tipos de produtos!</p>
                </div>
                <div class="card-body">

                    <form action="/grade/salvar" method="POST" class="row g-3 needs-validation"
                        onsubmit="sub(event,this)" novalidate>

                        <label for="titulo" class="form-label">Descrição</label>
                        <input type="text" class="form-control" name="descricao" id="titulo"
                            placeholder="Informe aqui a descrição de sua grade" autocomplete="off" required>
                        <div class="valid-feedback">
                            Tudo ok!
                        </div>
                        <div class="invalid-feedback">
                            Esse campo é obrigatório
                        </div>
                        <div class="col-md-3">
                            <label for="validationCustom04" class="form-label">Status</label>
                            <select class="form-select" name="status" id="validationCustom04" required>
                                <option value="true">Ativo</option>
                                <option value="false">Desativado</option>
                            </select>
                            <div class="invalid-feedback">
                                Por favor, selecione!
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-sm">
                                <hr>
                                <label for="linha" class="form-label">Linha</label>
                                <input type="text" class="form-control" name="linha" id="linha"
                                    placeholder="Informe aqui a descrição de sua grade" autocomplete="off" required>
                                <div class="valid-feedback">
                                    Tudo ok!
                                </div>
                                <div class="invalid-feedback">
                                    Esse campo é obrigatório
                                </div>
                                
                                <hr>
                                <ul class="list-group">
                                    <input type="hidden" name="countl" id="countl" value="1">
                                    <li class="list-group-item list-group-item-primary"><input type="text" name="l1" id="l1" class="form-control"></li>
                                    <span id="spanl"></span>
                                    <input type="button" class="form-control btn btn-success mt-3 fw-bold fs-3" value="+" onclick="addLinha()">
                                </ul>
                            </div>

                            <div class="col-sm">
                                <hr>
                                <label for="coluna" class="form-label">Coluna</label>
                                <input type="text" class="form-control" name="coluna" id="coluna"
                                    placeholder="Informe aqui a descrição de sua grade" autocomplete="off" required>
                                <div class="valid-feedback">
                                    Tudo ok!
                                </div>
                                <div class="invalid-feedback">
                                    Esse campo é obrigatório
                                </div>
                                <hr>
                                <ul class="list-group">
                                    <input type="hidden" name="countc" id="countc" value="1">
                                    <li class="list-group-item list-group-item-primary"><input type="text" name="c1" id="c1" class="form-control"></li>
                                    <span id="spanc"></span>
                                    <input type="button" class="form-control btn btn-success mt-3 fw-bold fs-3" value="+" onclick="addColuna()">
                                </ul>
                            </div>
                        </div>

                        <div class="card-footer">
                            <button class="btn btn-primary form-control" id="buttom">Cadastrar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <%- include('../../partials/footer.ejs')%>
            <script src="/js/sub.js"></script>
            <script>
                var x = 1
                function addLinha(){
                    var count = x + 1
                    var hidden = document.getElementById("countl").value = count
                    x++
                    var span = document.getElementById('spanl')
                    var span2 = document.createElement("span")
                    span2.innerHTML = `<li class="list-group-item list-group-item-primary"><input type="text" name="l${count}" id="l${count}" class="form-control"></li>`
                    span.insertBefore(span2, null);
                }
                var k = 1
                function addColuna(){
                    var countc = k + 1
                    var hidden = document.getElementById("countc").value = countc
                    k++
                    var span = document.getElementById('spanc')
                    var span2 = document.createElement("span")
                    span2.innerHTML = `<li class="list-group-item list-group-item-primary"><input type="text" name="c${countc}" id="c${countc}" class="form-control"></li>`
                    span.insertBefore(span2, null);
                }
            </script>